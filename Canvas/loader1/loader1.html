<!DOCTYPE html>
<html>
<head>
	<title>canvas loader</title>
	<script type="text/javascript" src="utils.js"></script>
</head>
<body>
	<canvas width="200" height="200" id="loader"></canvas>
</body>
<script type="text/javascript">
	window.onload=function(){
		canvasAnimate1();
	}
	function canvasAnimate1(){
		var canvas=document.getElementById('loader');
		var context=canvas.getContext('2d');
		var balls=[];
		var angle=0;
		for(var i=0;i<8;i++){
			var radius=(-12/49)*i*(i-7);
			var ball=new Ball(100+20*Math.sin(angle),100+20*Math.cos(angle),radius,"#ffffff");
			balls.push(ball);
			angle+=Math.PI/4;
		}
		animateDraw();
		function animateDraw(){
			context.fillStyle="#2b3e51";
			context.fillRect(0,0,400,200);
			var ball_index=7;
			window.setInterval(function(){
				if(ball_index<=0){
					balls=attributechange(balls,"radius");
					ball_index=7;
				}
				draw(balls[ball_index],context);
				ball_index--;
			},15);
		}
	}
</script>
</html>