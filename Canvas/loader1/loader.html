<!DOCTYPE html>
<html>
<head>
	<title>canvas loader</title>
	<script type="text/javascript" src="utils.js"></script>
</head>
<body>
	<canvas width="200" height="200" id="loader"></canvas>
</body>
<script type="text/javascript">
	window.onload=function(){
		var canvas=document.getElementById('loader');
		var context=canvas.getContext('2d');
		var balls=[];
		var angle=0;
		var alphs=[0,0,0,0.2,0.4,0.6,0.8,1];
		for(var i=0;i<8;i++){
			var ball=new Ball(100+20*Math.sin(angle),100+20*Math.cos(angle),4,"#ffffff",alphs[i]);
			balls.push(ball);
			angle+=Math.PI/4;
		}
		animateDraw();
		function animateDraw(){
			context.fillStyle="#1aaf5d";
			context.fillRect(0,0,400,200);
			var ball_index=7;
			window.setInterval(function(){
				if(ball_index<=0){
					balls=alphchange(balls);
					ball_index=7;
				}
				draw(balls[ball_index],context);
				ball_index--;
			},20);
		}
	}
</script>
</html>